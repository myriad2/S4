S4: Stanford Stratified Structure Solver (http://fan.group.stanford.edu/S4/)

A program for computing electromagnetic fields in periodic, layered
structures, developed by Victor Liu (victorliu@alumni.stanford.edu) of the
Fan group in the Stanford Electrical Engineering Department.

See the S4 manual, in doc/index.html, for a complete
description of the package and its user interface, as well as
installation instructions, the license and copyright, contact
addresses, and other important information.



I have tried several forks of the S4 in Ubuntu. However, some can't be compiled, while some compiled without errors still leads to wrong results.
I notice that victor liu developed the S4 in msys2, so I try to compile S4  in  msys2 env.
And I successfully installed S4lua and get exact results.
Essentially, I made some change to Makefile.Msys2 to include lua5.2 and remove -DLUA_BUILD_AS_DLL
I also write a simple script file to simplify the installation.You can run it in msys2 by type ".\install_S4_in_msys2.sh"

Currently, running convergence test in the original "ex2.lua"   leads "segmentation fault".
The fault comes with "for nG = 101,401,40 do S:SetNumG(ng) ... ". 
If you change the script to "for nG = 401,101,-40 do S:SetNumG(ng) ... ", you get no fault. However, the results is totally wrong.
I'll be glad if anyone knows the reason.

Besides, I have a standalone S4lua-1.1.1-win32.exe file that can be run directly in Windows, I forgot the website I downloaded from. 
The  exe file is very robust. However, it runs very slow, roughly  10 times slower than the method I show in this fork.
